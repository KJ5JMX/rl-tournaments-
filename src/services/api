import mockData from "../data/mockTournaments.json";

const API_HOST = "rocket-league1.p.rapidapi.com";
const USE_MOCK_DATA = true;
//using mock data for now.
export async function fetchTournamentsByRegion(region) {
  if (USE_MOCK_DATA) {
    return mockData;
  }

  const url = `https://${API_HOST}/tournaments/${region}`;

  const response = await fetch(url, {
    method: "GET",
    headers: {
      "X-RapidAPI-Key": import.meta.env.VITE_RAPIDAPI_KEY,
      "X-RapidAPI-Host": API_HOST,
    },
  });

  if (!response.ok) {
    throw new Error(`API request failed: ${response.status}`);
  }

  return response.json();
}
